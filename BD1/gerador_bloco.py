
def gerarBloco(bloco):
    bloco_ack = []


    bloco = [x + "!" for x in bloco]

    for m in bloco:
        ack = m.split('||', 4)[1][-7]
        bloco_ack.append(ack)

    #print bloco
    #print bloco_ack
    return (bloco, bloco_ack)


gerarBloco(['MSH|^~\\&|A|A|B|B|201504051157||ORM^O01|0|P|2.5|||AL|PID|||50626||CONCEICAO SERRANO SEQUEIRA^MARIA^^||19411012|F||||||||||28006303|PV1||I|INT||||||||||||||||15002727|ORC|CA|4727374|4727374||||||20150405111053|OBR|01|4727374|4727374|M10405^TORAX, UMA INCIDENCIA|||||||||||^^^|||CR|RXE||||||||^^^20150405115723^^0||||||', 'MSH|^~\\&|A|A|B|B|201504051157||ORM^O01|1|P|2.5|||AL|PID|||50626||CONCEICAO SERRANO SEQUEIRA^MARIA^^||19411012|F||||||||||28006303|PV1||I|INT||||||||||||||||15002727|ORC|CA|4727374|4727374||||||20150405111053|OBR|01|4727374|4727374|M10405^TORAX, UMA INCIDENCIA|||||||||||^^^|||CR|RXE||||||||^^^20150405115723^^0||||||','MSH|^~\\&|A|A|B|B|201504051157||ORM^O01|2|P|2.5|||AL|PID|||50626||CONCEICAO SERRANO SEQUEIRA^MARIA^^||19411012|F||||||||||28006303|PV1||I|INT||||||||||||||||15002727|ORC|CA|4727374|4727374||||||20150405111053|OBR|01|4727374|4727374|M10405^TORAX, UMA INCIDENCIA|||||||||||^^^|||CR|RXE||||||||^^^20150405115723^^0||||||','MSH|^~\\&|A|A|B|B|201504051157||ORM^O01|3|P|2.5|||AL|PID|||50626||CONCEICAO SERRANO SEQUEIRA^MARIA^^||19411012|F||||||||||28006303|PV1||I|INT||||||||||||||||15002727|ORC|CA|4727374|4727374||||||20150405111053|OBR|01|4727374|4727374|M10405^TORAX, UMA INCIDENCIA|||||||||||^^^|||CR|RXE||||||||^^^20150405115723^^0||||||'])